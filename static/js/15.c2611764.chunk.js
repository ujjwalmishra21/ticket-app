(this["webpackJsonpticket-app"]=this["webpackJsonpticket-app"]||[]).push([[15],{330:function(e,t,o){"use strict";var a=o(0),n=o.n(a),r=o(326),i=o(605),l=o(365);t.a=function(){return n.a.createElement(r.a,null,n.a.createElement(i.a,{active:!0},n.a.createElement(l.a,{size:"medium"})))}},602:function(e,t,o){"use strict";o.r(t);var a=o(35),n=o(36),r=o(38),i=o(37),l=o(0),s=o.n(l),c=o(330),d=o(586),u=o(366),_=function(e){var t="",o=e.open_time.split(":"),a=o[0]+":"+o[1],n=e.close_time.split(":"),r=n[0]+":"+n[1];if(e.booking_date){var i=new Date(e.booking_date);t=(i.getDay()<10?"0"+i.getDay():i.getDay())+"/"+(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"/"+i.getFullYear()}return s.a.createElement(d.a,null,s.a.createElement(d.a.Content,null,s.a.createElement(d.a.Header,null,e.store_name),s.a.createElement(d.a.Meta,null,"Slot Date: ",t),s.a.createElement(d.a.Meta,null,"Slot Time: ",e.slot_details.description),s.a.createElement(d.a.Description,null,"Store Hours: ",a," - ",r)),s.a.createElement(u.a,{extra:!0},s.a.createElement(d.a.Description,null,e.locality,", ",e.street,", ",e.city)))},g=o(68),m=o(46),k=Object(m.b)((function(e){return{loading:e.booking.loading,error:e.booking.error}}))((function(e){var t=[];e.bookings&&e.bookings.length>0&&e.bookings.forEach((function(e){e.bookings.forEach((function(o){t.push({booking_details:o,store_details:{city:e.city,open_time:e.open_time,close_time:e.close_time,country:e.country,landmark:e.landmark,locality:e.locality,state:e.state,store_name:e.store_name,street:e.street,zip:e.zip,owner_id:e.owner_id},slot_details:o.slot})}))}));var o=s.a.createElement(d.a.Group,{style:{justifyContent:"center",width:"100%"}},t.length>0&&t.map((function(e){return s.a.createElement(_,{key:e.booking_details.booking_id,store_name:e.store_details.store_name,open_time:e.store_details.open_time,close_time:e.store_details.close_time,landmark:e.store_details.landmark,locality:e.store_details.locality,street:e.store_details.street,country:e.store_details.country,state:e.store_details.state,city:e.store_details.city,zip:e.store_details.zip,booking_date:e.booking_details.booking_date,customer_id:e.booking_details.customer_id,slot_details:e.slot_details})})));return e.loading&&(o=s.a.createElement(c.a,null)),e.error&&alert(e.error),s.a.createElement(g.a,null,o)})),p=function(e){var t="",o="",a="";if(e.store_details&&e.store_details.open_time){var n=e.store_details.open_time.split(":");o=n[0]+":"+n[1]}if(e.store_details&&e.store_details.close_time){var r=e.store_details.close_time.split(":");a=r[0]+":"+r[1]}if(e.booking_date){var i=new Date(e.booking_date);t=(i.getDay()<10?"0"+i.getDay():i.getDay())+"/"+(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"/"+i.getFullYear()}var l="";e.slot_details&&e.slot_details.description&&(l=e.slot_details.description);var c="";e.store_details&&e.store_details.store_name&&(c=e.store_details.store_name);var _="";return e.store_details&&e.store_details.locality&&e.store_details.street&&e.store_details.city&&(_=e.store_details.locality+","+e.store_details.street+","+e.store_details.city),s.a.createElement(d.a,null,s.a.createElement(d.a.Content,null,s.a.createElement(d.a.Header,null,c),s.a.createElement(d.a.Meta,null,"Slot Date: ",t),s.a.createElement(d.a.Meta,null,"Slot Time: ",l),s.a.createElement(d.a.Description,null,"Store Hours: ",o," - ",a)),s.a.createElement(u.a,{extra:!0},s.a.createElement(d.a.Description,null,_)))},b=Object(m.b)((function(e){return{loading:e.booking.loading,error:e.booking.error}}))((function(e){var t=[];e.bookings&&e.bookings.length>0&&e.bookings.forEach((function(e){t.push({booking_id:e.booking_id,booking_date:e.booking_date,store_details:e.store,slot_details:e.slot})}));var o=s.a.createElement(d.a.Group,{style:{justifyContent:"center",width:"100%"}},t.length>0&&t.map((function(e){return s.a.createElement(p,{key:e.booking_id,booking_id:e.booking_id,booking_date:e.booking_date,store_details:e.store_details,slot_details:e.slot_details})})));return e.loading&&(o=s.a.createElement(c.a,null)),e.error&&alert(e.error),s.a.createElement(g.a,null,o)})),h=o(93),E=function(e){Object(r.a)(o,e);var t=Object(i.a)(o);function o(){return Object(a.a)(this,o),t.apply(this,arguments)}return Object(n.a)(o,[{key:"componentDidMount",value:function(){this.props.getBookings(this.props.token)}},{key:"render",value:function(){var e=[],t="";this.props.bookings&&this.props.bookings.length>0?this.props.bookings.forEach((function(t){e.push(t)})):t=s.a.createElement("h2",null,"No bookings found");var o=s.a.createElement("h1",null,"My Bookings");1===parseInt(this.props.data.user_id)&&(o=s.a.createElement("h1",null,"Store Bookings"));var a="";return a=e.length>0?1===parseInt(this.props.data.user_id)?s.a.createElement(k,{bookings:e}):s.a.createElement(b,{bookings:e}):t,s.a.createElement(g.a,null,o,a)}}]),o}(l.Component);t.default=Object(m.b)((function(e){return{loading:e.booking.loading,bookings:e.booking.booking,error:e.booking.error,token:e.auth.token,data:e.auth.data}}),(function(e){return{getBookings:function(t){return e(h.f(t))}}}))(E)}}]);
//# sourceMappingURL=15.c2611764.chunk.js.map